
<div class="container topPadTable">
  <h2 class="text-center">
    <button class="btn-default" (click)="goBack()"><i class="fa fa-arrow-left"></i></button>
    Promotion
  </h2>

  <hr>

  <form [formGroup]="myForm" novalidate (ngSubmit)="save(myForm)">
    <input type="text" class="form-control" formControlName="_id" [(ngModel)]="fetchedPromotion._id">
    <div class="form-group">
      <label>name</label>
      <input type="text" class="form-control" formControlName="name" [(ngModel)]="fetchedPromotion.name">
      <small *ngIf="!myForm.controls.name.valid" class="text-danger">
           Required (minimum 5 characters).
      </small>
    </div>
    <div formGroupName="form">
      <div class="form-group">
        <label>_idPic</label>
        <input type="text" class="form-control" formControlName="_id" [(ngModel)]="fetchedPromotion.form._id">
        <img width="150" src="./uploads/forms/{{fetchedPromotion.form.owner}}/{{fetchedPromotion.form.imagePath}}" onerror="this.src ='assets/images/no-image-found.jpg'">
        <div class="margin-20">
          <button type="button" md-button (click)="openDialog('img')">+ Media</button>
        </div>
      </div>
    </div>
    <div formGroupName="date">
      <div class="form-group">
        <label>dateBegin</label>
        <input type="text" class="form-control" formControlName="dateBegin" [(ngModel)]="fetchedPromotion.dateBegin">
      </div>
      <div class="form-group">
        <label>dateEnd</label>
        <input type="text" class="form-control" formControlName="dateEnd" [(ngModel)]="fetchedPromotion.dateEnd">
      </div>
    </div>


    <br>



    <div class="margin-20">
      <button type="submit" class="btn btn-primary pull-right" [disabled]="!myForm.valid">Submit</button>
    </div>
    <div class="clearfix"></div>

    <div class="margin-20">
      <div>myForm details:-</div>
      <pre>Is myForm valid?: <br>{{myForm.valid | json}}</pre>
      <pre>form value: <br>{{myForm.value | json}}</pre>
    </div>
  </form>

</div>
